{% extends "base.html" %}

{% block title %}Регистрация{% endblock %}

{% block content %}
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card mt-5">
                <div class="card-body">
                    <h2 class="card-title text-center mb-4">Регистрация</h2>
                    <form method="POST" action="{{ url_for('register') }}" id="registrationForm">
                        <div class="mb-3">
                            <label for="username" class="form-label">Имя пользователя</label>
                            <input type="text" class="form-control" id="username" name="username" required minlength="3" maxlength="80">
                            <div class="form-text">Минимум 3 символа</div>
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">Email</label>
                            <input type="email" class="form-control" id="email" name="email" required>
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label">Пароль</label>
                            <input type="password" class="form-control" id="password" name="password" required minlength="6">
                            <div class="form-text">Минимум 6 символов</div>
                        </div>
                        <div class="mb-3">
                            <label for="confirmPassword" class="form-label">Подтверждение пароля</label>
                            <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" required>
                        </div>
                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="privacy_policy" name="privacy_policy" required>
                            <label class="form-check-label" for="privacy_policy">
                                Я согласен на обработку персональных данных и принимаю <a href="#" data-bs-toggle="modal" data-bs-target="#privacyPolicyModal">условия использования</a>
                            </label>
                        </div>
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary">Зарегистрироваться</button>
                        </div>
                    </form>
                    <div class="text-center mt-3">
                        <p>Уже есть аккаунт? <a href="{{ url_for('login') }}">Войти</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Модальное окно с политикой конфиденциальности -->
<div class="modal fade" id="privacyPolicyModal" tabindex="-1" aria-labelledby="privacyPolicyModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="privacyPolicyModalLabel">Политика конфиденциальности</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <h6>1. Общие положения</h6>
                <p>Настоящая политика обработки персональных данных составлена в соответствии с требованиями Федерального закона от 27.07.2006. №152-ФЗ «О персональных данных» и определяет порядок обработки персональных данных и меры по обеспечению безопасности персональных данных.</p>

                <h6>2. Основные понятия</h6>
                <p>Персональные данные – любая информация, относящаяся к прямо или косвенно определенному или определяемому физическому лицу (субъекту персональных данных).</p>
                <p>Обработка персональных данных – любое действие (операция) или совокупность действий (операций), совершаемых с использованием средств автоматизации или без использования таких средств с персональными данными.</p>

                <h6>3. Сбор и использование персональных данных</h6>
                <p>Мы собираем и обрабатываем следующие персональные данные:</p>
                <ul>
                    <li>Имя пользователя</li>
                    <li>Адрес электронной почты</li>
                    <li>Информация, связанная с использованием системы заявок</li>
                </ul>

                <h6>4. Цели обработки персональных данных</h6>
                <p>Персональные данные обрабатываются в следующих целях:</p>
                <ul>
                    <li>Регистрация и авторизация пользователей</li>
                    <li>Обработка и учет заявок</li>
                    <li>Связь с пользователями по вопросам обслуживания</li>
                    <li>Улучшение качества обслуживания</li>
                </ul>

                <h6>5. Согласие на обработку</h6>
                <p>Используя наш сервис, вы даете согласие на обработку персональных данных в соответствии с данной политикой конфиденциальности.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрыть</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}
